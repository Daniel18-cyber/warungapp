<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sales - WarungApp</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./sales.css">
</head>

<body>
     <div class="container">
  <aside class="sidebar">
    <h2 class="logo">ğŸª WarungApp</h2>
    <nav>
      <a href="./dashboard.html">ğŸ“Š Dashboard</a>
      <a href="./sales.html" class="active">ğŸ’° Sales</a>
      <a href="./inventory.html">ğŸ“¦ Inventory</a>
      <a href="profile.html">ğŸ‘¤ Profile</a>
      
        <div class="sidebar-bottom">
        <button class="logout-btn">Logout</button>
     </div>
    </nav>
  </aside>
  <main class="content">
  <h1>Sales</h1>
  <p>Kelola transaksi penjualan</p>

  <div class="sales-container">

   
    <div class="sales-left">

      <div class="sales-filter-box sales-topbar">
        <input type="text" class="sales-search-input" placeholder="Cari produk...">

        <div class="sales-category">
          <button class="cat-btn">Semua</button>
          <button class="cat-btn">Makanan</button>
          <button class="cat-btn">Minuman</button>
          <button class="cat-btn">Sembako</button>
        </div>
      </div>

      
      <div class="product-card" data-name="Indomie Goreng" data-price="3000">
        <div class="product-card">
          <img src="https://via.placeholder.com/150">
          <h4>Indomie Goreng</h4>
          <span>Rp 3.000</span>
          <button class="add-btn">+ Tambah</button>
        </div>

        <div class="product-card" data-name="Teh Botol" data-price="4000">
          <img src="https://via.placeholder.com/150">
          <h4>Teh Botol</h4>
          <span>Rp 4.000</span>
          <button class="add-btn">+ Tambah</button>
        </div>

        <div class="product-card" data-name="Beras 5kg" data-price="65000">
          <img src="https://via.placeholder.com/150">
          <h4>Beras 5kg</h4>
          <span>Rp 65.000</span>
          <button class="add-btn">+ Tambah</button>
        </div>

        <div class="product-card" data-name="Indomie Goreng" data-price="3000">
          <img src="https://via.placeholder.com/150">
          <h4>Indomie Goreng</h4>
          <span>Rp 3.000</span>
          <button class="add-btn">+ Tambah</button>
        </div>
      </div>

    </div>

   
    <aside class="sales-cart">
      <h3>Keranjang</h3>

      <div class="cart-items">
        Belum ada produk
      </div>

      <div class="cart-footer">
        <div class="total">
          <span>Total</span>
          <strong>Rp 0</strong>
        </div>
        <button class="checkout-btn">Bayar</button>
      </div>
    </aside>

  </div>
</main>

</div>

<script>
const cart = {};
const cartItems = document.querySelector('.cart-items');
const totalEl = document.querySelector('.total strong');

function formatRupiah(num) {
  return 'Rp ' + num.toLocaleString('id-ID');
}

document.querySelectorAll('.add-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const card = btn.closest('.product-card');
    const name = card.dataset.name;
    const price = parseInt(card.dataset.price);

    if (!cart[name]) {
      cart[name] = { qty: 1, price };
    } else {
      cart[name].qty++;
    }

    renderCart();
  });
});

function renderCart() {
  cartItems.innerHTML = '';
  let total = 0;

  Object.keys(cart).forEach(name => {
    const item = cart[name];
    total += item.qty * item.price;

    cartItems.innerHTML += `
      <div class="cart-row">
        <span>${item.qty}x ${name}</span>
        <span>${formatRupiah(item.qty * item.price)}</span>
      </div>
    `;
  });

  totalEl.textContent = formatRupiah(total);
}
</script>

</body>
</html>